<htm-viewer>
    <htm-viewer-title>Formulaire de Contact</htm-viewer-title>
    <htm-viewer-body>
        <form class="form" (ngSubmit)="onSubmit()" [formGroup]="contactForm" novalidate>
            <mat-form-field class="half-width">
                <input matInput placeholder="Email" formControlName="email" required>
                <mat-error *ngIf="email.invalid">{{ emailErrors() }}</mat-error>             
            </mat-form-field>

            <mat-form-field class="half-width">
                <input matInput placeholder="Nom" formControlName="name" required>
                <mat-error *ngIf="name.invalid">{{ nameErrors() }}</mat-error>   
            </mat-form-field>

            <mat-form-field class="full-width">
                <input matInput placeholder="Téléphone" formControlName="phone">                
            </mat-form-field>

            <mat-form-field class="full-width">
                <textarea matInput placeholder="Laissez un message" formControlName="message" required></textarea>
                <mat-hint>Détaillez avec précision vos besoins, en terme de bricolage, jardinage, achats ou autre...</mat-hint>
                <mat-error *ngIf="message.invalid">{{ messageErrors() }}</mat-error> 
            </mat-form-field>

            <div class="button-row">
                <p-captcha siteKey="6Lez6DgUAAAAACUnN7c1uFcBewGIZMInjQr63zZF" (onResponse)="captchaResponse($event)" (onExpire)="captchaExpire()"></p-captcha>
            </div>

            <div class="button-row">
                <button mat-raised-button color="primary"
                        type="submit"
                        [hidden]="submitted"
                        [disabled]="!isFormValid(contactForm.valid)">
                    Envoyer</button>
            </div>
        </form>
    </htm-viewer-body>
</htm-viewer>